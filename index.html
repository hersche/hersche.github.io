<!DOCTYPE html>
<html manifest="skamstergithubio.appcache">

<head>
    <meta charset='utf-8'>
    <script src="js/jquery-2.1.1.js"></script>
    <script src="js/jquery-migrate-1.2.1.min.js"></script>
    <script src="js/ownScript.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/storyjs-embed.js"></script>
    <script src="js/jquery.fancybox.js" type="text/javascript"></script>
    <script src="js/jquery.mousewheel-3.0.6.pack.js" type="text/javascript"></script>
    <script src="js/jquery-ui.js" type="text/javascript"></script>
    <script src="js/jquery.zrssfeed.js" type="text/javascript"></script>
    <script src="js/jquery.vticker.js" type="text/javascript"></script>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

    <link title="Example3" rel="stylesheet" type="text/css" href="stylesheets/thirdCase.css" media="screen" />
    <link title="Serious" rel="alternate stylesheet" type="text/css" href="stylesheets/serious.css" media="screen" />
    <link title="Spaced" rel="alternate stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />

    <link rel="stylesheet" type="text/css" href="stylesheets/jquery.zrssfeed.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/jquery-ui.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/jquery-ui.theme.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/jquery.fancybox.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/jquery-ui-1.10.4.custom.min.css" media="screen" />
    <title>skamster.github.io</title>
    <script type="text/javascript">
        "use strict";

        /**
            This is searching for all GET-variables in URL
        **/
        var HTTP_GET_VARS = new Array();
        var strGET = document.location.search.substr(1, document.location.search.length);
        if (strGET != '') {
            var gArr = strGET.split('&');
            for (var i = 0; i < gArr.length; ++i) {
                var v = '';
                var vArr = gArr[i].split('=');
                if (vArr.length > 1) {
                    v = vArr[1];
                }
                HTTP_GET_VARS[unescape(vArr[0])] = unescape(v);
            }
        }

        var lastName = "";
        var jData;
        var tlData;
        var aboutImgBig = false;
        /**
            Get language automatic
        **/
        var lang = window.navigator.userLanguage || window.navigator.language;
        if (lang.length == 5) {
            lang = lang.substr(0, 2);

        }
        var jsonFile = "en.json";
        var tlFile = "tl_en.json";
        $(document).ready(function () {
            var progressbar = $("#progress"),
                progressLabel = $(".progress-label");
            $("#progress").progressbar({
                value: false,
                change: function () {
                    progressLabel.text("Finished with " + progressbar.progressbar("value") + "%");
                },
                complete: function () {
                    progressLabel.text("Complete! HF!");
                }
            });
            $("#progress").progressbar("enable");
            /**
                Get the current site
            **/
            if (GET('s') != 'undefined' & GET('s') != 'index') {
                lastName = GET('s');
            } else {
                lastName = "index";
            }
            /**
                Get the current language
            **/
            if (lang == "de" && GET('lang') == 'undefined') {
                jsonFile = "de.json";
                tlFile = "tl_de.json";
            }
            if (GET('lang') != 'undefined') {
                if (GET('lang') === "de" || GET('lang') === "en") {
                    jsonFile = GET('lang') + ".json";
                    tlFile = "tl_" + GET('lang') + ".json";
                    lang = GET('lang');
                }
            }

            /**
                Eventhandlers for fancybox - once a gallery, once the timeline
            **/
            $('.gallerybox').fancybox({
                padding: 0,
                radius: "6px",
                openEffect: 'elastic',
                openSpeed: 150,
                closeEffect: 'elastic',
                closeSpeed: 150
            });
            $('#timeline').fancybox({
                'overlayOpacity': 0.1,
                'showCloseButton': false,
                openEffect: 'elastic',
                openSpeed: 150,
                closeEffect: 'elastic',
                closeSpeed: 150
            });
            /**
             This part makes the menu and table-of-content scrolling with you
            **/
            var tocYloc = parseInt($("#scroller").css("top").substring(0, $("#scroller").css("top").indexOf("px")));
            $(window).scroll(function () {
                if (isNaN(tocYloc)) {
                    tocYloc = 0;
                }
                var tocoffset = tocYloc + $(document).scrollTop() + "px";
                $("#scroller").animate({
                    top: tocoffset
                }, {
                    duration: 1500,
                    queue: false
                });
            });

            /**
                This gets the information from json or offline-store and load the content.
            **/
            if (typeof (Storage) !== "undefined") {
                // In the first case, we have all the information offline
                if ((localStorage.jData) && (localStorage.storeDate) && (localStorage.tlData)) {
                    jData = jQuery.parseJSON(localStorage.jData);
                    createTimeline(jQuery.parseJSON(localStorage.tlData), jData.transl.lang);
                    $("#refresh").html(jData.transl.refresh + " (" + localStorage.storeDate + "/" + jData.transl.fromstorage + ")");
                    $("#menucontent").html(processMenuHtml(jData));
                    var ProcessedHtml = processHtml(jData, lastName);
                    $("#toc").html(ProcessedHtml[1]);
                    $("#showContent").html(ProcessedHtml[0]);
                    // $("#impressum").html(jData.transl.impressum);

                } else {
                    //In the second case, we have webstorage-support, but no data yet. So let's recive!
                    var d = new Date();
                    var jqxhr = $.getJSON(jsonFile, function () {
                        console.log("First complete-catch of maincontent");
                    });
                    var tljqxhr = $.getJSON(tlFile, function () {
                        console.log("First complete-catch of timeline");
                    });

                    jqxhr.complete(function (data) {
                        console.log("Completemethod2 on maincontent, let's do the work");
                        localStorage.jData = data.responseText.replace("\n", "");
                        if (lang === "de") {
                            localStorage.storeDate = d.getUTCDate() + "." + d.getUTCMonth() + "." + d.getUTCFullYear();
                        } else {
                            localStorage.storeDate = d.getUTCMonth() + "." + d.getUTCDate() + "." + d.getUTCFullYear();
                        }

                        jData = jQuery.parseJSON(data.responseText.replace("\n", ""));
                        $("#refresh").html(jData.transl.refresh + " (" + localStorage.storeDate + "/" + jData.transl.fromnew + ")");
                        $("#menucontent").html(processMenuHtml(jData));
                        var ProcessedHtml = processHtml(jData, lastName);
                        $("#toc").html(ProcessedHtml[1]);
                        $("#showContent").html(ProcessedHtml[0]);
                        // $("#impressum").html(jData.transl.impressum);
                        tljqxhr.complete(function (tldata) {
                            console.log("Completemethod2 on timeline, let's do the work");
                            localStorage.tlData = tldata.responseText.replace("\n", "");
                            createTimeline(jQuery.parseJSON(tldata.responseText.replace("\n", "")), jData.transl.lang);
                        });

                    });
                }
            } else {
                // There is no webstorage-support, so this method will be used on every refresh (argh!)
                // There is no logging, because a browser should basicly be new enough
                var jqxhr = $.getJSON(jsonFile, function () {});
                var tljqxhr = $.getJSON(tlFile, function () {});
                jqxhr.complete(function (data2) {
                    jData = jQuery.parseJSON(data2.responseText.replace("\n", ""));
                    $("#menucontent").html(processMenuHtml(jData));
                    var ProcessedHtml = processHtml(jData, lastName);
                    $("#toc").html(ProcessedHtml[1]);
                    $("#showContent").html(ProcessedHtml[0]);
                    $("#refresh").html(jData.transl.refresh + " (" + jData.transl.nowebstorage + ")");
                    //  $("#impressum").html(jData.transl.impressum);
                });
                tljqxhr.complete(function (tldata) {
                    createTimeline(jQuery.parseJSON(tldata.responseText.replace("\n", "")), jData.transl.lang);
                });

            }



            $('#githubbtn, #news').mouseenter(function () {
                $(this).addClass('mouse_over')
                $("#news").show("slide", {
                    direction: "left"
                }, 800, function () {});
            })
            $('#githubbtn, #news').mouseleave(function () {
                var $this = $(this)
                var timeoutId = setTimeout(function () {
                    $this.removeClass('mouse_over')
                    if ($('.mouse_over').length == 0) {
                        console.log('not_in_either');
                        $("#news").hide("slide", {
                            direction: "left"
                        }, 10, function () {});
                    }
                }, 1);
            });

            $('#news').rssfeed('https://github.com/skamster.atom', {
                snippet: false,
                header: false,
                media: false,
                content: true,
                linkcontent: true,
                titletag: "h7",
                date: false
            }, function (e) {
                $(e).find('div.rssBody').vTicker({
                    showItems: 1
                });
            });

            /**
                Fade in loaded contents withouth jquery-ui
            **/

            $("#progress").progressbar("option", "value", 0);
            $("#showContent").show("slide", {
                direction: "right"
            }, 1000, function () {
                $("#progress").progressbar("option", "value", 25);

                $("#progress").progressbar("option", "value", 35);
                $("#menu").show("shake", {
                    times: 5,
                    distance: 20
                }, "easeInExpo", function () {

                    $("#progress").progressbar("option", "value", 50);
                    $("#scroller").show("drop", {
                        direction: "right"
                    }, "easeInExpo", function () {
                        $("#progress").progressbar("option", "value", 75);
                        $("#impressum").show("slide", {
                            direction: "down"
                        }, 500, function () {
                            $("#news").hide("explode", {

                            }, 500, function () {
                                $("#progress").progressbar("option", "value", 100);
                                $("#progress").hide("pulsate", {}, 800, function () {});
                                // $( "#progress" ).progressbar("destroy");
                                $("#impressum").html(jData.transl.impressum);
                                $(window).scroll(function () {
                                    if ($(window).scrollTop() + $(window).height() < $(document).height()) {
                                        $("#impressum").show("pulsate", {}, 800, function () {});
                                    }
                                    if ($(window).scrollTop() + $(window).height() == $(document).height()) {
                                        $("#impressum").hide("pulsate", {}, 800, function () {});
                                    }
                                });
                            });
                        });
                    });

                });

            });
            $(function () {
                $(document).tooltip({
                    track: true
                });
            });

            $(function () {
                $("#map").tooltip({
                    track: false,
                    items: "a",
                    fixed: true,
                    position: {
                        my: "center bottom-5",
                        at: "center top"
                    },
                    content: function () {
                        var element = $(this);
                        var text = element.text();

                        return '<iframe style="width:550px; height:400px; border: 0px solid black; background-color: none;" frameborder="0" scrolling="no" src="http://tile.stamen.com/toner/#12/46.9407/7.4676" ></iframe>';

                    },
                    open: function (event, ui) {

                        ui.tooltip.animate({
                            top: ui.tooltip.position().top
                        }, "fast");
                    },
                    close: function (event, ui) {
                        ui.tooltip.hover(
                            function () {

                                $(this).stop(true).fadeTo(400, 1);

                                //.fadeIn("slow"); // doesn't work because of stop()
                            },
                            function () {

                                $(this).fadeOut("2000", function () {
                                    $(this).remove();
                                })

                            }
                        );
                    }
                });
                $("#impressum").tooltip({
                    track: false,
                    items: "a",
                    tooltipClass: "custom-tooltip-styling",
                    fixed: true,
                    position: {
                        my: "center bottom-5",
                        at: "center top"
                    },
                    content: function () {
                        var element = $(this);
                        var text = element.text();

                        return '<iframe style="width:570px; height:550px; border: 0px solid black; background-color: white;" frameborder="no" scrolling="yes" src="gpl-2.0.txt" ></iframe>';

                    },
                    open: function (event, ui) {

                        ui.tooltip.animate({
                            top: ui.tooltip.position().top
                        }, "fast");
                    },
                    close: function (event, ui) {
                        ui.tooltip.hover(
                            function () {

                                $(this).stop(true).fadeTo(400, 1);

                                //.fadeIn("slow"); // doesn't work because of stop()
                            },
                            function () {

                                $(this).fadeOut("2000", function () {
                                    $(this).remove();
                                })

                            }
                        );
                    }
                });
                $(document).tooltip({
                    track: true,
                    items: "img, [title]",
                    fixed: false,
                    position: {
                        my: "right+120 bottom-20",
                        at: "right+120 top"
                    },
                    content: function () {
                        var element = $(this);
                        if (element.is("[title]")) {
                            return element.attr("title");
                        }
                        if (element.is("img")) {
                            return element.attr("alt");
                        }
                    },
                    open: function (event, ui) {},
                    close: function (event, ui) {
                        ui.tooltip.hover(
                            function () {

                                //.fadeIn("slow"); // doesn't work because of stop()
                            },
                            function () {
                                $(this).fadeOut("30", function () {
                                    $(this).remove();
                                })

                            }
                        );
                    }
                });
            });
            /**
                Eventwatcher for onClick on about-me-picture"
            **/
            $(document).on('click', '#aboutImg', function (e) {
                if (aboutImgBig) {
                    $("#aboutImg").animate({
                            width: '133px',
                            'height': '250px'
                        }, 500,
                        function () {
                            aboutImgBig = false;
                        });
                } else {
                    $("#aboutImg").animate({
                            width: '267px',
                            height: '500px',
                        }, 500,
                        function () {
                            aboutImgBig = true;
                        });
                }
            });



            // Check client for mobile-device using
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                alert(jData.transl.mobilephonehint);
            }

            $.browser.chrome = /chrom(e|ium)/.test(navigator.userAgent.toLowerCase());
            $.browser.webkit = /webkit/.test(navigator.userAgent.toLowerCase());

            // relativ ugly workaround for font-size-failures i saw. my reference is firefox with 0.8.
            if ($.browser.webkit) {
                $(".btn").css("font-size", "0.75em");
            }
            if ($.browser.chrome) {
                $(".btn").css("font-size", "0.7em");

            }


        });
    </script>
</head>

<body style="background-color: black" id="body">
    <a id="onTop"></a>
    <div id="warn" style="background-color: red; width: 80%; height: 15%; margin-left: 10%; margin-top: 15%; position: fixed; color: white; z-index: 999; padding-left: 15px;"><img src="http://pixcdn.posterrevolution.com/posters/biohazard-warning-art-poster-print.jpg" style="height: 100px; float: left; padding-right: 15px;" />This Website is in a heavy restructuring right now. Please be patient till 15.11.2014. You still could use the old website, but its still deprecated. For the latest version of the redesign, check out the <a href="https://github.com/hersche/hersche.github.io/tree/flat" target="_blank">flat-branch</a>.
    <hr />
    <a href="#" onclick='$("#warn").fadeOut(200);' style="">[x] Close this warning</a>
    </div>
    <div id="scroller" style="display:none">
        <div id="toc"></div>
        <div id="top">
            <a href="#onTop">
                <img id="onTopImg" src="images/onTop.png" alt="Go on Top/Gehe nach zu oberst" />
            </a>
        </div>
    </div>
    <header>

        <div style="display: none;" id="menu">
            <div style="display:block;">
                <h1 style="display: inline;">skamster.github.io</h1>
                <p style="display: inline; vertical-align: top;">projects, docs and personal infos

                </p>
            </div>
            <div class="menuelements">
                <div id="menucontent">

                </div>
                <div class="lefty">
                    <a target="_blank" href="https://github.com/skamster" id="githubbtn" class="btn fade">GitHub</a>
                </div>
                <div class="righty">
                    <a id="refresh" href="#" title="This website is using your webstorage, what means it's offline useable. With one click, you could update the information." onclick="updateContent(); return false" class="btn fade ">Refresh</a> 
                </div>
                <div class="centry">
                    <a title="Wechsle zu deutschem Inhalt. Drücken Sie danach auf den 'Refresh'-Knopf!" href="index.html?lang=de" class="btn fade langbtn">DE</a>
                </div>
                <div class="centry">
                    <a title="Change to english content. After, click on the 'Erneuern'-Button!" href="index.html?lang=en" class="btn fade langbtn">EN</a>
                </div>
            </div>
        </div>

    </header>
    <div id="news">News und so!</div>
    <div id="animationContainer">
        <div id="showContent" style="display: none;"></div>

        <div id="impressum" style="display: block;"></div>
    </div>
    <noscript>
        <h3>This site needs javascript to load it's contents</h3>
        <p>If you don't wanna do a risk, have a look to <a href="https://github.com/skamster/skamster.github.io/">skamster.github.io @ github</a>. Check it there for malware, none of my code will be executed. Elsewhere you could visit my github-account and look into the wikis..Docs:</p>
        <ul>
            <li><a href="petaDocs/">Peta</a>
            </li>
            <li><a href="tryToxicDocs/">tryToxic</a>
            </li>
            <li><a href="jobManagementDocs/">jobManagement</a>
            </li>
        </ul>


        <h3>Diese Seite braucht Javascript, um ihre Inhalte zu laden.</h3>
        <p>Wenn Sie kein Risiko eingehen wollen, werfen Sie einen Blick auf <a href="https://github.com/skamster/skamster.github.io/">skamster.github.io @ github</a>. Überprüfen Sie die Seite dort auf Malware/schädlichen Code, es wird von meinem Code nichts ausgeführt. Ansonsten können Sie meine github-seite besuchen und dort in den Wikis stöbern..Dokumentationen:</p>
        <ul>
            <li><a href="petaDocs/">Peta</a>
            </li>
            <li><a href="tryToxicDocs/">tryToxic</a>
            </li>
            <li><a href="jobManagementDocs/">jobManagement</a>
            </li>
        </ul>

    </noscript>

    <div style="height:0px; width: 0px; overflow: hidden; ">
        <div id="my-timeline"></div>
    </div>
</body>

</html>
