<!DOCTYPE html>
<html manifest="skamstergithubio.appcache">

<head>
    <meta charset='utf-8'>
    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/jquery-migrate-1.2.1.min.js"></script>
    <script src="js/jquery-ui-1.10.4.custom.min.js"></script>
    <script src="js/ownScript.js"></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/jquery-ui-1.10.4.custom.min.css" media="screen" />
    <title>skamster.github.io</title>
    <script type="text/javascript">
        "use strict";
        var HTTP_GET_VARS = new Array();
        var strGET = document.location.search.substr(1, document.location.search.length);
        if (strGET != '') {
            var gArr = strGET.split('&');
            for (var i = 0; i < gArr.length; ++i) {
                var v = '';
                var vArr = gArr[i].split('=');
                if (vArr.length > 1) {
                    v = vArr[1];
                }
                HTTP_GET_VARS[unescape(vArr[0])] = unescape(v);
            }
        }

        var lastName = "";
        var jData;
        var aboutImgBig = false;
        var lang = window.navigator.userLanguage || window.navigator.language;
        if (lang.length == 5) {
            lang = lang.substr(0, 2);

        }
        var jsonFile = "en.json";

        $(document).ready(function() {
            if (GET('s') != 'undefined' & GET('s') != 'index') {
                lastName = GET('s');
            } else {
                lastName = "index";
            }
            if (lang == "de" && GET('lang') == 'undefined') {
                jsonFile = "de.json";
            }
            if (GET('lang') != 'undefined') {
                if (GET('lang') === "de" || GET('lang') === "en") {
                    jsonFile = GET('lang') + ".json";
                   // updateContent();
                    //$("#showContent").html(processHtml(jData, lastName));
                }
            }
            if (typeof(Storage) !== "undefined" && GET('lang') === 'undefined') {
                // Code for localStorage/sessionStorage.
                if (localStorage.jData) {
                    jData = jQuery.parseJSON(localStorage.jData);
                    $("#showContent").html(processHtml(jData, lastName));
                } else {
                    //retrive
                    var jqxhr = $.getJSON(jsonFile, function() {
                        console.log("success one, do nothing.");
                    });
                    jqxhr.complete(function(data) {
                        console.log("success2, worktime! heyho lets go..");
                        localStorage.jData = data.responseText.replace("\n", "");
                        jData = jQuery.parseJSON(data.responseText.replace("\n", ""));
                        $("#showContent").html(processHtml(jData, lastName));

                    });
                }
            } else {
                // Sorry! No Web Storage support..
                var jqxhr = $.getJSON(jsonFile, function() {
                    console.log("success one, do nothing.");
                });
                jqxhr.complete(function(data) {
                    console.log("success2, worktime! heyho lets go..");
                    jData = jQuery.parseJSON(data.responseText.replace("\n", ""));
                    $("#showContent").html(processHtml(jData, lastName));
                });
            }
            $("#showContent").fadeIn(1000);
            $("#menu").fadeIn(1000);

            
            $("#aboutImg").click(function() {
                if (aboutImgBig) {
                    $("#aboutImg").animate({
                            width: '213px',
                            height: '160px',
                        }, 500,
                        function() {
                            aboutImgBig = false;
                        });

                } else {
                    $("#aboutImg").animate({
                            width: '430px',
                            height: '320px'
                        }, 500,
                        function() {
                            aboutImgBig = true;
                        });
                }
                // alert("Handler for .click() called.");
            });


        });
    
    </script>
</head>

<body>
    <header>
        <div class="container" style="display: none;" id="menu">
            <div id="menucontent">
                <h1>skamster.github.io</h1>
                <section id="downloads">
                    <a style="margin-left:5px;" href="index.html?s=index" onclick="changeContent('index'); return false" class="btn fade">Home</a>
                    <a href="index.html?s=about" onclick="changeContent('about'); return false" class="btn fade">About me</a>
                    <a target="_blank" href="https://github.com/skamster" class="btn btn-github fade">My GitHub</a>
                    <a style="float:right; margin-right: 5px;" href="#" onclick="updateContent(reload=true); return false" class="btn fade">Refresh</a>
                    <a style="float:right; margin-right: 5px;" href="index.html?lang=de" class="btn fade">DE</a>
                    <a style="float:right; margin-right: 5px;" href="index.html?lang=en" class="btn fade">ENG</a>
                </section>
            </div>
        </div>
    </header>
    <div id="animationContainer">
        <div id="showContent" style="display: none"></div>
    </div>

</body>

</html>